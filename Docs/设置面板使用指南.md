# 设置面板使用指南

## 快速开始

### 1. 打开设置
点击游戏右上角的齿轮图标 ?

### 2. 功能概览

#### ?? 音量控制
- **音乐音量**：控制背景音乐的音量（0-100%）
- **音效音量**：控制游戏音效的音量（0-100%）
- 设置会自动保存

#### ?? 切换账号
1. 点击"切换账号"按钮
2. 从弹出的列表中选择要切换的账号
3. 游戏会自动保存当前账号数据并加载新账号

#### ?? 退出登录
- 点击后会保存当前游戏数据
- 退出游戏（未来版本将返回登录界面）

#### ?? 资源全满（测试功能）
- 一键获得大量资源
- 金币：+100,000
- 圣水：+100,000
- 黑暗圣水：+10,000
- 宝石：+1,000

#### ?? GridDev 开发模式
- 显示/隐藏网格
- 打开地图配置编辑器
- 调整地图参数（scale, startPixel, tileSize）
- 实时预览更改
- 保存配置到文件

## 开发者功能

### MapConfigManager 编辑器

当开启GridDev模式后，左侧会出现编辑器UI：

**地图列表**：
- 选择要编辑的地图

**参数调整**：
- Scale +/-：调整地图缩放
- X/Y +1/-1：微调startPixel位置
- X/Y +10/-10：大幅调整startPixel位置
- Tile +/-：调整网格大小

**操作按钮**：
- Save：保存配置到map_configs.json
- Apply：应用更改到当前地图

## 常见问题

### Q: 音量设置不保存？
A: 确保游戏有文件写入权限，设置保存在UserDefault中。

### Q: 切换账号后数据丢失？
A: 数据不会丢失，每个账号的数据独立保存。切换回原账号数据会恢复。

### Q: GridDev模式关不掉？
A: 再次点击"GridDev模式"按钮即可关闭。

### Q: 滑块不显示？
A: 需要准备以下资源文件：
- ui/slider_back.png
- ui/slider_thumb.png
- ui/slider_progress.png

## 快捷键

- ESC：关闭设置面板（未来版本）
- 点击面板外部：关闭设置面板

## 注意事项

1. **账号切换**：切换账号会重新加载整个游戏状态，确保在安全的时候切换
2. **资源全满**：这是测试功能，正式游戏中应该移除或限制
3. **GridDev模式**：仅用于开发阶段，发布版本应隐藏此功能

## 版本历史

### v1.0 (2025-12-08)
- ? 基础设置面板
- ? 音量控制
- ? 账号切换
- ? 退出登录
- ? 资源全满
- ? GridDev模式

---

**需要帮助？** 请查看完整的《设置面板功能实现报告.md》
